{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { defineStore } from 'pinia';\nimport { fetchListings, createOrder } from '@/services/index.js';\nexport const useProductStore = defineStore('product', {\n  state: () => ({\n    productList: [],\n    productItems: [],\n    orderMessage: null\n  }),\n  getters: {},\n  actions: {\n    async fetchList() {\n      const response = await fetchListings();\n      console.log(response);\n      this.productList = response.data;\n    },\n    async addToCart(product) {\n      this.orderMessage = null;\n      const existingProduct = this.productItems.find(item => item.id === product.id);\n      if (existingProduct) {\n        existingProduct.count += 1;\n      } else {\n        this.productItems.push({\n          ...product,\n          count: 1\n        });\n      }\n    },\n    async clearProduct() {\n      this.productItems = [];\n    },\n    async placeOrder(orderItems) {\n      try {\n        await createOrder(orderItems);\n        this.orderMessage = 'Siparişiniz başarılı bir şekilde tamamlandı.';\n        this.clearProduct();\n      } catch (error) {\n        if (error.response && error.response.status === 404) {\n          this.orderMessage = 'Üzgünüz, sepetinizdeki bazı ürünler stokta bulunmamaktadır.';\n        } else {\n          this.orderMessage = 'Bir hata oluştu. Lütfen daha sonra tekrar deneyin.';\n        }\n      }\n    }\n  }\n});","map":{"version":3,"names":["defineStore","fetchListings","createOrder","useProductStore","state","productList","productItems","orderMessage","getters","actions","fetchList","response","console","log","data","addToCart","product","existingProduct","find","item","id","count","push","clearProduct","placeOrder","orderItems","error","status"],"sources":["/Users/endless/Documents/GitHub/e-commerce-basket-app/src/store/index.js"],"sourcesContent":["import { defineStore } from 'pinia';\nimport { fetchListings, createOrder } from '@/services/index.js';\n\nexport const useProductStore = defineStore('product', {\n    state: () => ({\n        productList: [],\n        productItems: [],\n        orderMessage: null,\n    }),\n    getters: {},\n    actions: {\n        async fetchList() {\n            const response = await fetchListings();\n            console.log(response)\n            this.productList = response.data;\n        },\n        async addToCart(product) {\n            this.orderMessage = null;\n            const existingProduct = this.productItems.find((item) => item.id === product.id);\n            if (existingProduct) {\n                existingProduct.count += 1;\n            } else {\n                this.productItems.push({ ...product, count: 1 });\n            }\n        },\n        async clearProduct() {\n            this.productItems = [];\n        },\n        async placeOrder(orderItems) {\n            try {\n                await createOrder(orderItems);\n                this.orderMessage = 'Siparişiniz başarılı bir şekilde tamamlandı.';\n                this.clearProduct();\n            } catch (error) {\n                if (error.response && error.response.status === 404) {\n                    this.orderMessage = 'Üzgünüz, sepetinizdeki bazı ürünler stokta bulunmamaktadır.';\n                } else {\n                    this.orderMessage = 'Bir hata oluştu. Lütfen daha sonra tekrar deneyin.';\n                }\n            }\n        },\n    },\n});\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,SAASC,aAAa,EAAEC,WAAW,QAAQ,qBAAqB;AAEhE,OAAO,MAAMC,eAAe,GAAGH,WAAW,CAAC,SAAS,EAAE;EAClDI,KAAK,EAAEA,CAAA,MAAO;IACVC,WAAW,EAAE,EAAE;IACfC,YAAY,EAAE,EAAE;IAChBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACFC,OAAO,EAAE,CAAC,CAAC;EACXC,OAAO,EAAE;IACL,MAAMC,SAASA,CAAA,EAAG;MACd,MAAMC,QAAQ,GAAG,MAAMV,aAAa,CAAC,CAAC;MACtCW,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB,IAAI,CAACN,WAAW,GAAGM,QAAQ,CAACG,IAAI;IACpC,CAAC;IACD,MAAMC,SAASA,CAACC,OAAO,EAAE;MACrB,IAAI,CAACT,YAAY,GAAG,IAAI;MACxB,MAAMU,eAAe,GAAG,IAAI,CAACX,YAAY,CAACY,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CAAC;MAChF,IAAIH,eAAe,EAAE;QACjBA,eAAe,CAACI,KAAK,IAAI,CAAC;MAC9B,CAAC,MAAM;QACH,IAAI,CAACf,YAAY,CAACgB,IAAI,CAAC;UAAE,GAAGN,OAAO;UAAEK,KAAK,EAAE;QAAE,CAAC,CAAC;MACpD;IACJ,CAAC;IACD,MAAME,YAAYA,CAAA,EAAG;MACjB,IAAI,CAACjB,YAAY,GAAG,EAAE;IAC1B,CAAC;IACD,MAAMkB,UAAUA,CAACC,UAAU,EAAE;MACzB,IAAI;QACA,MAAMvB,WAAW,CAACuB,UAAU,CAAC;QAC7B,IAAI,CAAClB,YAAY,GAAG,8CAA8C;QAClE,IAAI,CAACgB,YAAY,CAAC,CAAC;MACvB,CAAC,CAAC,OAAOG,KAAK,EAAE;QACZ,IAAIA,KAAK,CAACf,QAAQ,IAAIe,KAAK,CAACf,QAAQ,CAACgB,MAAM,KAAK,GAAG,EAAE;UACjD,IAAI,CAACpB,YAAY,GAAG,6DAA6D;QACrF,CAAC,MAAM;UACH,IAAI,CAACA,YAAY,GAAG,oDAAoD;QAC5E;MACJ;IACJ;EACJ;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}