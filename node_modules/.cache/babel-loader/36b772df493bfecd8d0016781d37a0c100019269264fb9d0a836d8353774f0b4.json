{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { computed } from \"vue\";\nimport { useProductStore } from \"@/store\";\nimport router from '@/router.js';\nexport default {\n  __name: 'OrderPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const orderMessage = computed(() => useProductStore().orderMessage);\n    const productItems = computed(() => useProductStore().productItems);\n    const uniqueProductCount = computed(() => useProductStore().productItems.length);\n    const handleGoBackClick = () => {\n      router.push('/');\n    };\n    const handlePlaceOrderClick = async () => {\n      const orderItems = productItems.value.map(item => {\n        return {\n          id: item.id,\n          amount: item.count\n        };\n      });\n      await useProductStore().placeOrder(orderItems);\n    };\n    const handleRemoveItemClick = async item => {\n      const index = productItems.value.findIndex(i => i.id === item.id);\n      if (index !== -1) {\n        this.productItems.splice(index, 1);\n      }\n    };\n    const __returned__ = {\n      orderMessage,\n      productItems,\n      uniqueProductCount,\n      handleGoBackClick,\n      handlePlaceOrderClick,\n      handleRemoveItemClick,\n      computed,\n      get useProductStore() {\n        return useProductStore;\n      },\n      get router() {\n        return router;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","useProductStore","router","orderMessage","productItems","uniqueProductCount","length","handleGoBackClick","push","handlePlaceOrderClick","orderItems","value","map","item","id","amount","count","placeOrder","handleRemoveItemClick","index","findIndex","i","splice"],"sources":["/Users/endless/Documents/GitHub/e-commerce-basket-app/src/views/OrderPage.vue"],"sourcesContent":["<template>\n  <div class=\"order-page\">\n    <h3 class=\"order-page__title\">My cart ({{uniqueProductCount}})</h3>\n    <div class=\"order-page__list\">\n      <div v-if=\"orderMessage\" class=\"message\">\n        {{ orderMessage }}\n      </div>\n      <div v-for=\"item in productItems\" :key=\"item.id\" class=\"order-card\">\n        <div class=\"order-card__button\">\n          <img :src=\"item.image\" :alt=\"item.name\" class=\"product-image\">\n          <div class=\"quantity-container\">\n            <button class=\"btn decrement\"  :disabled=\"item.count === 1\" @click=\"item.count--;\">-</button>\n            <input type=\"number\" v-model.number=\"item.count\">\n            <button class=\"btn increment\" @click=\"item.count++;\">+</button>\n          </div>\n        </div>\n        <div class=\"order-card__details\">\n          <h3>{{ item.name }}</h3>\n          <p> {{ item.price }} {{ item.currency }}</p>\n          <button class=\"btn remove\" @click=\"handleRemoveItemClick\">Remove</button>\n        </div>\n      </div>\n    </div>\n    <div class=\"order-bottom-div\">\n      <button class=\"btn back\" @click=\"handleGoBackClick\">Continue Shopping</button>\n      <button class=\"btn order-by\" @click=\"handlePlaceOrderClick\">Place order</button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {computed} from \"vue\";\nimport {useProductStore} from \"@/store\";\nimport router from '@/router.js';\n\n\nconst orderMessage = computed(()=>useProductStore().orderMessage)\nconst productItems = computed(()=>useProductStore().productItems)\nconst uniqueProductCount = computed(()=>useProductStore().productItems.length)\n\nconst handleGoBackClick = ()=> {\n  router.push('/');\n}\nconst handlePlaceOrderClick = async ()=> {\n  const orderItems = productItems.value.map((item) => {\n    return { id: item.id, amount: item.count };\n  });\n  await useProductStore().placeOrder(orderItems);\n}\nconst handleRemoveItemClick = async (item)=> {\n  const index = productItems.value.findIndex((i) => i.id === item.id);\n  if (index !== -1) {\n    this.productItems.splice(index, 1);\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"mappings":";AA+BA,SAAQA,QAAQ,QAAO,KAAK;AAC5B,SAAQC,eAAe,QAAO,SAAS;AACvC,OAAOC,MAAM,MAAM,aAAa;;;;;;;IAGhC,MAAMC,YAAY,GAAGH,QAAQ,CAAC,MAAIC,eAAe,CAAC,CAAC,CAACE,YAAY,CAAC;IACjE,MAAMC,YAAY,GAAGJ,QAAQ,CAAC,MAAIC,eAAe,CAAC,CAAC,CAACG,YAAY,CAAC;IACjE,MAAMC,kBAAkB,GAAGL,QAAQ,CAAC,MAAIC,eAAe,CAAC,CAAC,CAACG,YAAY,CAACE,MAAM,CAAC;IAE9E,MAAMC,iBAAiB,GAAGA,CAAA,KAAK;MAC7BL,MAAM,CAACM,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;IACD,MAAMC,qBAAqB,GAAG,MAAAA,CAAA,KAAW;MACvC,MAAMC,UAAU,GAAGN,YAAY,CAACO,KAAK,CAACC,GAAG,CAAEC,IAAI,IAAK;QAClD,OAAO;UAAEC,EAAE,EAAED,IAAI,CAACC,EAAE;UAAEC,MAAM,EAAEF,IAAI,CAACG;QAAM,CAAC;MAC5C,CAAC,CAAC;MACF,MAAMf,eAAe,CAAC,CAAC,CAACgB,UAAU,CAACP,UAAU,CAAC;IAChD,CAAC;IACD,MAAMQ,qBAAqB,GAAG,MAAOL,IAAI,IAAI;MAC3C,MAAMM,KAAK,GAAGf,YAAY,CAACO,KAAK,CAACS,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACP,EAAE,KAAKD,IAAI,CAACC,EAAE,CAAC;MACnE,IAAIK,KAAK,KAAK,CAAC,CAAC,EAAE;QAChB,IAAI,CAACf,YAAY,CAACkB,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;MACpC;IACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}